<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习 Webpack5 之路（优化篇）- 近 7k 字 | 前端收集</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.webp">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="前端相关知识归纳总结">
    <meta name="keywords" content="blog,react,node,js">
    
    <link rel="preload" href="/assets/css/0.styles.b4a844ec.css" as="style"><link rel="preload" href="/assets/js/app.ae400df5.js" as="script"><link rel="preload" href="/assets/js/2.57da4f88.js" as="script"><link rel="preload" href="/assets/js/1.a76cc220.js" as="script"><link rel="preload" href="/assets/js/126.e8ec0fe7.js" as="script"><link rel="prefetch" href="/assets/js/10.50f73657.js"><link rel="prefetch" href="/assets/js/100.f9ccbc6f.js"><link rel="prefetch" href="/assets/js/101.c20baa36.js"><link rel="prefetch" href="/assets/js/102.4ce575e4.js"><link rel="prefetch" href="/assets/js/103.6ddf9f4a.js"><link rel="prefetch" href="/assets/js/104.e8bd0c3f.js"><link rel="prefetch" href="/assets/js/105.d0a85c47.js"><link rel="prefetch" href="/assets/js/106.4b3aadee.js"><link rel="prefetch" href="/assets/js/107.436e7f8f.js"><link rel="prefetch" href="/assets/js/108.f46692dc.js"><link rel="prefetch" href="/assets/js/109.322908a6.js"><link rel="prefetch" href="/assets/js/11.0390ceee.js"><link rel="prefetch" href="/assets/js/110.9181da82.js"><link rel="prefetch" href="/assets/js/111.c451b4da.js"><link rel="prefetch" href="/assets/js/112.196b195d.js"><link rel="prefetch" href="/assets/js/113.d65148d0.js"><link rel="prefetch" href="/assets/js/114.5566de19.js"><link rel="prefetch" href="/assets/js/115.12d1619e.js"><link rel="prefetch" href="/assets/js/116.d2f23fe7.js"><link rel="prefetch" href="/assets/js/117.d5fa2588.js"><link rel="prefetch" href="/assets/js/118.79455d12.js"><link rel="prefetch" href="/assets/js/119.b43c99e9.js"><link rel="prefetch" href="/assets/js/12.f88bec36.js"><link rel="prefetch" href="/assets/js/120.f321d53f.js"><link rel="prefetch" href="/assets/js/121.286fed99.js"><link rel="prefetch" href="/assets/js/122.ff0af27d.js"><link rel="prefetch" href="/assets/js/123.00138c02.js"><link rel="prefetch" href="/assets/js/124.25640250.js"><link rel="prefetch" href="/assets/js/125.cb2f28a6.js"><link rel="prefetch" href="/assets/js/127.0fdd48c2.js"><link rel="prefetch" href="/assets/js/128.38b675a9.js"><link rel="prefetch" href="/assets/js/129.7819df5c.js"><link rel="prefetch" href="/assets/js/13.963ad03b.js"><link rel="prefetch" href="/assets/js/130.a58f0a09.js"><link rel="prefetch" href="/assets/js/131.4a0133b5.js"><link rel="prefetch" href="/assets/js/132.24e842c4.js"><link rel="prefetch" href="/assets/js/133.be3bb854.js"><link rel="prefetch" href="/assets/js/134.8c4662c6.js"><link rel="prefetch" href="/assets/js/135.03d2f395.js"><link rel="prefetch" href="/assets/js/136.acf07647.js"><link rel="prefetch" href="/assets/js/137.f0fa48ad.js"><link rel="prefetch" href="/assets/js/138.843d86f2.js"><link rel="prefetch" href="/assets/js/139.015086b5.js"><link rel="prefetch" href="/assets/js/14.512f15b9.js"><link rel="prefetch" href="/assets/js/140.5468056b.js"><link rel="prefetch" href="/assets/js/141.9bf65de6.js"><link rel="prefetch" href="/assets/js/142.63b38359.js"><link rel="prefetch" href="/assets/js/143.55120954.js"><link rel="prefetch" href="/assets/js/144.e3d71ef2.js"><link rel="prefetch" href="/assets/js/145.470a4869.js"><link rel="prefetch" href="/assets/js/146.574b3929.js"><link rel="prefetch" href="/assets/js/147.28c0b405.js"><link rel="prefetch" href="/assets/js/148.08f963f8.js"><link rel="prefetch" href="/assets/js/149.0b296978.js"><link rel="prefetch" href="/assets/js/15.a674496c.js"><link rel="prefetch" href="/assets/js/150.651bd19a.js"><link rel="prefetch" href="/assets/js/151.d2029876.js"><link rel="prefetch" href="/assets/js/152.32f253ce.js"><link rel="prefetch" href="/assets/js/153.ceb29b56.js"><link rel="prefetch" href="/assets/js/154.6a7f6d29.js"><link rel="prefetch" href="/assets/js/155.50aaf5d9.js"><link rel="prefetch" href="/assets/js/156.036e250b.js"><link rel="prefetch" href="/assets/js/157.c2435840.js"><link rel="prefetch" href="/assets/js/158.242ba411.js"><link rel="prefetch" href="/assets/js/159.136ff0a3.js"><link rel="prefetch" href="/assets/js/16.ed7e507f.js"><link rel="prefetch" href="/assets/js/160.25dcaecf.js"><link rel="prefetch" href="/assets/js/161.ab904d4e.js"><link rel="prefetch" href="/assets/js/162.04b69881.js"><link rel="prefetch" href="/assets/js/163.e7e749f8.js"><link rel="prefetch" href="/assets/js/164.71f53227.js"><link rel="prefetch" href="/assets/js/165.5841cd1a.js"><link rel="prefetch" href="/assets/js/166.28071d6e.js"><link rel="prefetch" href="/assets/js/167.93ce97d2.js"><link rel="prefetch" href="/assets/js/168.f3b2972c.js"><link rel="prefetch" href="/assets/js/169.aa7f77f0.js"><link rel="prefetch" href="/assets/js/17.de667ca5.js"><link rel="prefetch" href="/assets/js/170.cfdf36f3.js"><link rel="prefetch" href="/assets/js/171.e542ad9a.js"><link rel="prefetch" href="/assets/js/172.2101f9ed.js"><link rel="prefetch" href="/assets/js/173.8f875d74.js"><link rel="prefetch" href="/assets/js/174.61572c8b.js"><link rel="prefetch" href="/assets/js/175.2ce966d7.js"><link rel="prefetch" href="/assets/js/176.bf7661ff.js"><link rel="prefetch" href="/assets/js/177.99ab75ff.js"><link rel="prefetch" href="/assets/js/178.8c053eff.js"><link rel="prefetch" href="/assets/js/179.bb56672f.js"><link rel="prefetch" href="/assets/js/18.b44e84af.js"><link rel="prefetch" href="/assets/js/180.44be886d.js"><link rel="prefetch" href="/assets/js/181.a635f8b4.js"><link rel="prefetch" href="/assets/js/182.43ee494e.js"><link rel="prefetch" href="/assets/js/183.7f8013e7.js"><link rel="prefetch" href="/assets/js/184.995eba6d.js"><link rel="prefetch" href="/assets/js/185.ae8dc8fc.js"><link rel="prefetch" href="/assets/js/186.f5f3b8d8.js"><link rel="prefetch" href="/assets/js/187.0b834066.js"><link rel="prefetch" href="/assets/js/188.de0798b4.js"><link rel="prefetch" href="/assets/js/189.bd73bd48.js"><link rel="prefetch" href="/assets/js/19.5b5ad6a1.js"><link rel="prefetch" href="/assets/js/190.3b34618c.js"><link rel="prefetch" href="/assets/js/191.d69ac5ae.js"><link rel="prefetch" href="/assets/js/192.6fb41323.js"><link rel="prefetch" href="/assets/js/193.deec3471.js"><link rel="prefetch" href="/assets/js/194.a936f543.js"><link rel="prefetch" href="/assets/js/195.257a9d86.js"><link rel="prefetch" href="/assets/js/196.b04a1424.js"><link rel="prefetch" href="/assets/js/197.b1b12256.js"><link rel="prefetch" href="/assets/js/198.d3539378.js"><link rel="prefetch" href="/assets/js/199.802facc3.js"><link rel="prefetch" href="/assets/js/20.6800493a.js"><link rel="prefetch" href="/assets/js/200.c2e3da4f.js"><link rel="prefetch" href="/assets/js/201.9b119f49.js"><link rel="prefetch" href="/assets/js/202.283e51cb.js"><link rel="prefetch" href="/assets/js/203.4ebeba02.js"><link rel="prefetch" href="/assets/js/204.a3680104.js"><link rel="prefetch" href="/assets/js/205.e89e1221.js"><link rel="prefetch" href="/assets/js/206.a2159b40.js"><link rel="prefetch" href="/assets/js/207.30aa8a56.js"><link rel="prefetch" href="/assets/js/208.25e87523.js"><link rel="prefetch" href="/assets/js/209.1feb11d6.js"><link rel="prefetch" href="/assets/js/21.6589052c.js"><link rel="prefetch" href="/assets/js/210.3988d49f.js"><link rel="prefetch" href="/assets/js/211.c35b6127.js"><link rel="prefetch" href="/assets/js/212.a47a605d.js"><link rel="prefetch" href="/assets/js/213.e67c2145.js"><link rel="prefetch" href="/assets/js/214.f2adf5ee.js"><link rel="prefetch" href="/assets/js/215.8af7fa44.js"><link rel="prefetch" href="/assets/js/216.c4c02e18.js"><link rel="prefetch" href="/assets/js/217.8a2ed0a4.js"><link rel="prefetch" href="/assets/js/218.5224a21c.js"><link rel="prefetch" href="/assets/js/219.85a23ded.js"><link rel="prefetch" href="/assets/js/22.f648d829.js"><link rel="prefetch" href="/assets/js/220.1a4b37cb.js"><link rel="prefetch" href="/assets/js/221.fd8b42a5.js"><link rel="prefetch" href="/assets/js/222.ab3b9c2e.js"><link rel="prefetch" href="/assets/js/223.7e579d8f.js"><link rel="prefetch" href="/assets/js/224.a9ba827c.js"><link rel="prefetch" href="/assets/js/225.e1612fcc.js"><link rel="prefetch" href="/assets/js/226.9c1af133.js"><link rel="prefetch" href="/assets/js/227.0bc3b51e.js"><link rel="prefetch" href="/assets/js/228.a0eba8af.js"><link rel="prefetch" href="/assets/js/229.5d1c84bb.js"><link rel="prefetch" href="/assets/js/23.79aa69fa.js"><link rel="prefetch" href="/assets/js/230.f83fdc59.js"><link rel="prefetch" href="/assets/js/231.9f82cedb.js"><link rel="prefetch" href="/assets/js/232.f97914ee.js"><link rel="prefetch" href="/assets/js/233.50ac2baa.js"><link rel="prefetch" href="/assets/js/234.d313f866.js"><link rel="prefetch" href="/assets/js/235.f5eb3748.js"><link rel="prefetch" href="/assets/js/236.d452db47.js"><link rel="prefetch" href="/assets/js/237.5199378b.js"><link rel="prefetch" href="/assets/js/238.d1c3107c.js"><link rel="prefetch" href="/assets/js/239.4e2b6d59.js"><link rel="prefetch" href="/assets/js/24.03ffbcca.js"><link rel="prefetch" href="/assets/js/240.b46f5ecd.js"><link rel="prefetch" href="/assets/js/241.7e9311b0.js"><link rel="prefetch" href="/assets/js/242.ede280f9.js"><link rel="prefetch" href="/assets/js/243.71efdf6e.js"><link rel="prefetch" href="/assets/js/244.1b089d77.js"><link rel="prefetch" href="/assets/js/245.47562a1b.js"><link rel="prefetch" href="/assets/js/246.35ce7ccb.js"><link rel="prefetch" href="/assets/js/247.0eea6dda.js"><link rel="prefetch" href="/assets/js/248.d606d51a.js"><link rel="prefetch" href="/assets/js/249.22a9c555.js"><link rel="prefetch" href="/assets/js/25.872464d2.js"><link rel="prefetch" href="/assets/js/250.7cf64a15.js"><link rel="prefetch" href="/assets/js/251.b6f787d7.js"><link rel="prefetch" href="/assets/js/252.8b9bedcd.js"><link rel="prefetch" href="/assets/js/253.5c63ec35.js"><link rel="prefetch" href="/assets/js/254.31ff9dc4.js"><link rel="prefetch" href="/assets/js/255.190e5f80.js"><link rel="prefetch" href="/assets/js/256.e68f87e0.js"><link rel="prefetch" href="/assets/js/257.3095f7a1.js"><link rel="prefetch" href="/assets/js/258.af517699.js"><link rel="prefetch" href="/assets/js/259.f10ece0f.js"><link rel="prefetch" href="/assets/js/26.bd6d2ac2.js"><link rel="prefetch" href="/assets/js/260.e8bbba00.js"><link rel="prefetch" href="/assets/js/261.5d9b1d5e.js"><link rel="prefetch" href="/assets/js/262.950474a9.js"><link rel="prefetch" href="/assets/js/263.3e7dca65.js"><link rel="prefetch" href="/assets/js/264.1017ad1a.js"><link rel="prefetch" href="/assets/js/265.99c4d846.js"><link rel="prefetch" href="/assets/js/266.8d1ea647.js"><link rel="prefetch" href="/assets/js/267.20e69579.js"><link rel="prefetch" href="/assets/js/268.4da84374.js"><link rel="prefetch" href="/assets/js/269.e3ad7859.js"><link rel="prefetch" href="/assets/js/27.814c713d.js"><link rel="prefetch" href="/assets/js/270.c5c4b40b.js"><link rel="prefetch" href="/assets/js/271.9c7294fd.js"><link rel="prefetch" href="/assets/js/272.3d41fdce.js"><link rel="prefetch" href="/assets/js/273.3eaafe8e.js"><link rel="prefetch" href="/assets/js/274.f98d5554.js"><link rel="prefetch" href="/assets/js/275.5ec6a4b8.js"><link rel="prefetch" href="/assets/js/276.0936dd89.js"><link rel="prefetch" href="/assets/js/277.33bd4dff.js"><link rel="prefetch" href="/assets/js/278.c383b31c.js"><link rel="prefetch" href="/assets/js/279.6df8b215.js"><link rel="prefetch" href="/assets/js/28.5229eb08.js"><link rel="prefetch" href="/assets/js/280.07169fc6.js"><link rel="prefetch" href="/assets/js/281.4b28be3f.js"><link rel="prefetch" href="/assets/js/282.79bba86e.js"><link rel="prefetch" href="/assets/js/283.32f592bc.js"><link rel="prefetch" href="/assets/js/284.fd9b6b59.js"><link rel="prefetch" href="/assets/js/285.df1454be.js"><link rel="prefetch" href="/assets/js/286.18b1703e.js"><link rel="prefetch" href="/assets/js/287.94781ca0.js"><link rel="prefetch" href="/assets/js/288.f21493cb.js"><link rel="prefetch" href="/assets/js/289.8fc283e3.js"><link rel="prefetch" href="/assets/js/29.a63c1057.js"><link rel="prefetch" href="/assets/js/290.3346a986.js"><link rel="prefetch" href="/assets/js/291.5fafa49e.js"><link rel="prefetch" href="/assets/js/292.ac874de4.js"><link rel="prefetch" href="/assets/js/293.19730c32.js"><link rel="prefetch" href="/assets/js/294.98ddc6d7.js"><link rel="prefetch" href="/assets/js/295.eae00758.js"><link rel="prefetch" href="/assets/js/296.1d81c552.js"><link rel="prefetch" href="/assets/js/297.5f86f97e.js"><link rel="prefetch" href="/assets/js/298.1bc558ca.js"><link rel="prefetch" href="/assets/js/299.d068c6b6.js"><link rel="prefetch" href="/assets/js/3.13e892f5.js"><link rel="prefetch" href="/assets/js/30.1b884b1b.js"><link rel="prefetch" href="/assets/js/300.c956e204.js"><link rel="prefetch" href="/assets/js/301.77127d95.js"><link rel="prefetch" href="/assets/js/302.1d7c4af3.js"><link rel="prefetch" href="/assets/js/303.2bcbc099.js"><link rel="prefetch" href="/assets/js/304.b2180761.js"><link rel="prefetch" href="/assets/js/305.3ac4a62e.js"><link rel="prefetch" href="/assets/js/306.1ce3e68d.js"><link rel="prefetch" href="/assets/js/307.6c3d9548.js"><link rel="prefetch" href="/assets/js/308.b777fbfa.js"><link rel="prefetch" href="/assets/js/309.e5d32660.js"><link rel="prefetch" href="/assets/js/31.68c1b4eb.js"><link rel="prefetch" href="/assets/js/310.fcda8acc.js"><link rel="prefetch" href="/assets/js/311.cde4dc35.js"><link rel="prefetch" href="/assets/js/312.98a0ee89.js"><link rel="prefetch" href="/assets/js/313.ce02630f.js"><link rel="prefetch" href="/assets/js/314.3883ac39.js"><link rel="prefetch" href="/assets/js/315.b6c9cd37.js"><link rel="prefetch" href="/assets/js/316.6cd33ea7.js"><link rel="prefetch" href="/assets/js/317.eb818350.js"><link rel="prefetch" href="/assets/js/318.e9e7da16.js"><link rel="prefetch" href="/assets/js/319.1edfec0a.js"><link rel="prefetch" href="/assets/js/32.64224241.js"><link rel="prefetch" href="/assets/js/320.f4728475.js"><link rel="prefetch" href="/assets/js/321.799c6e59.js"><link rel="prefetch" href="/assets/js/322.a701407b.js"><link rel="prefetch" href="/assets/js/323.803b7bcc.js"><link rel="prefetch" href="/assets/js/324.a73b88d8.js"><link rel="prefetch" href="/assets/js/325.f08e06ca.js"><link rel="prefetch" href="/assets/js/326.80813d35.js"><link rel="prefetch" href="/assets/js/327.8310d6c8.js"><link rel="prefetch" href="/assets/js/328.68f1b07a.js"><link rel="prefetch" href="/assets/js/329.04be32fe.js"><link rel="prefetch" href="/assets/js/33.b4859866.js"><link rel="prefetch" href="/assets/js/330.fbd486d3.js"><link rel="prefetch" href="/assets/js/331.bc43b814.js"><link rel="prefetch" href="/assets/js/332.838514e5.js"><link rel="prefetch" href="/assets/js/333.c647f10b.js"><link rel="prefetch" href="/assets/js/334.293d7db1.js"><link rel="prefetch" href="/assets/js/335.f60f98c5.js"><link rel="prefetch" href="/assets/js/336.d59a627e.js"><link rel="prefetch" href="/assets/js/337.719cd005.js"><link rel="prefetch" href="/assets/js/338.eb93d4b7.js"><link rel="prefetch" href="/assets/js/339.a38c5695.js"><link rel="prefetch" href="/assets/js/34.69c1bc55.js"><link rel="prefetch" href="/assets/js/340.9a4ce427.js"><link rel="prefetch" href="/assets/js/341.d39b4f2f.js"><link rel="prefetch" href="/assets/js/342.11fbba88.js"><link rel="prefetch" href="/assets/js/343.36030f9c.js"><link rel="prefetch" href="/assets/js/344.94fc0ac0.js"><link rel="prefetch" href="/assets/js/345.c6ef0cd3.js"><link rel="prefetch" href="/assets/js/346.3f3484bf.js"><link rel="prefetch" href="/assets/js/347.f6957922.js"><link rel="prefetch" href="/assets/js/348.df8650b3.js"><link rel="prefetch" href="/assets/js/349.402ca2e1.js"><link rel="prefetch" href="/assets/js/35.d8b00796.js"><link rel="prefetch" href="/assets/js/350.8a48f4c3.js"><link rel="prefetch" href="/assets/js/351.b5356e83.js"><link rel="prefetch" href="/assets/js/352.944301fd.js"><link rel="prefetch" href="/assets/js/353.8b170c06.js"><link rel="prefetch" href="/assets/js/354.97b92290.js"><link rel="prefetch" href="/assets/js/355.948e7095.js"><link rel="prefetch" href="/assets/js/356.5aaf9fe5.js"><link rel="prefetch" href="/assets/js/357.67c88167.js"><link rel="prefetch" href="/assets/js/358.e241fbe2.js"><link rel="prefetch" href="/assets/js/359.15b3166a.js"><link rel="prefetch" href="/assets/js/36.090e85b2.js"><link rel="prefetch" href="/assets/js/360.187f4fe6.js"><link rel="prefetch" href="/assets/js/361.a77fa57f.js"><link rel="prefetch" href="/assets/js/362.30ed8657.js"><link rel="prefetch" href="/assets/js/363.c8caaf0f.js"><link rel="prefetch" href="/assets/js/364.78f41e2e.js"><link rel="prefetch" href="/assets/js/365.55b8d5b3.js"><link rel="prefetch" href="/assets/js/366.d1c007ca.js"><link rel="prefetch" href="/assets/js/367.bc6a31fb.js"><link rel="prefetch" href="/assets/js/368.147012d3.js"><link rel="prefetch" href="/assets/js/369.94f25d03.js"><link rel="prefetch" href="/assets/js/37.bf92df67.js"><link rel="prefetch" href="/assets/js/370.37c8786f.js"><link rel="prefetch" href="/assets/js/371.037e513b.js"><link rel="prefetch" href="/assets/js/372.353d4826.js"><link rel="prefetch" href="/assets/js/373.3260442b.js"><link rel="prefetch" href="/assets/js/374.eabaedd4.js"><link rel="prefetch" href="/assets/js/375.f80e9c75.js"><link rel="prefetch" href="/assets/js/376.b041cafe.js"><link rel="prefetch" href="/assets/js/377.d6410416.js"><link rel="prefetch" href="/assets/js/378.0d21f78f.js"><link rel="prefetch" href="/assets/js/379.83c05c56.js"><link rel="prefetch" href="/assets/js/38.74932844.js"><link rel="prefetch" href="/assets/js/380.c41e1704.js"><link rel="prefetch" href="/assets/js/381.52c6dcbf.js"><link rel="prefetch" href="/assets/js/382.d2998ea4.js"><link rel="prefetch" href="/assets/js/383.160918fa.js"><link rel="prefetch" href="/assets/js/384.6e3e4604.js"><link rel="prefetch" href="/assets/js/385.e514c0b7.js"><link rel="prefetch" href="/assets/js/386.3cab7b43.js"><link rel="prefetch" href="/assets/js/387.7b7aa4c3.js"><link rel="prefetch" href="/assets/js/388.1675a9c8.js"><link rel="prefetch" href="/assets/js/389.f5e5e9e4.js"><link rel="prefetch" href="/assets/js/39.45a654d9.js"><link rel="prefetch" href="/assets/js/390.5bbca72c.js"><link rel="prefetch" href="/assets/js/391.4e95a939.js"><link rel="prefetch" href="/assets/js/392.8eb7d12f.js"><link rel="prefetch" href="/assets/js/393.f72f9473.js"><link rel="prefetch" href="/assets/js/394.1cea58b3.js"><link rel="prefetch" href="/assets/js/395.33fa0847.js"><link rel="prefetch" href="/assets/js/396.8ef17642.js"><link rel="prefetch" href="/assets/js/397.dd02eee1.js"><link rel="prefetch" href="/assets/js/398.23ea33a3.js"><link rel="prefetch" href="/assets/js/399.84a4e8db.js"><link rel="prefetch" href="/assets/js/4.5bdb9365.js"><link rel="prefetch" href="/assets/js/40.7cc37d90.js"><link rel="prefetch" href="/assets/js/400.0597181f.js"><link rel="prefetch" href="/assets/js/401.9cb4c0e2.js"><link rel="prefetch" href="/assets/js/402.41ddf5c4.js"><link rel="prefetch" href="/assets/js/403.afa305eb.js"><link rel="prefetch" href="/assets/js/404.3831ec8d.js"><link rel="prefetch" href="/assets/js/405.b79a51fb.js"><link rel="prefetch" href="/assets/js/406.dd6191a5.js"><link rel="prefetch" href="/assets/js/407.d2e12f04.js"><link rel="prefetch" href="/assets/js/408.56c2fc48.js"><link rel="prefetch" href="/assets/js/409.25a15725.js"><link rel="prefetch" href="/assets/js/41.78331f9e.js"><link rel="prefetch" href="/assets/js/410.dd6c1352.js"><link rel="prefetch" href="/assets/js/411.6d95d902.js"><link rel="prefetch" href="/assets/js/412.da6546bd.js"><link rel="prefetch" href="/assets/js/413.39d34e64.js"><link rel="prefetch" href="/assets/js/414.aaa215f3.js"><link rel="prefetch" href="/assets/js/415.b41c61b6.js"><link rel="prefetch" href="/assets/js/416.139592a7.js"><link rel="prefetch" href="/assets/js/417.324a89a1.js"><link rel="prefetch" href="/assets/js/418.676f7dcb.js"><link rel="prefetch" href="/assets/js/419.9350419c.js"><link rel="prefetch" href="/assets/js/42.a22391d6.js"><link rel="prefetch" href="/assets/js/420.0462f81e.js"><link rel="prefetch" href="/assets/js/421.a6efdd34.js"><link rel="prefetch" href="/assets/js/422.569428e8.js"><link rel="prefetch" href="/assets/js/423.8cb41fe5.js"><link rel="prefetch" href="/assets/js/424.98a9d128.js"><link rel="prefetch" href="/assets/js/425.62b51cfb.js"><link rel="prefetch" href="/assets/js/426.7b3a49e4.js"><link rel="prefetch" href="/assets/js/427.f99d9c10.js"><link rel="prefetch" href="/assets/js/428.73db8fe6.js"><link rel="prefetch" href="/assets/js/429.05f1741b.js"><link rel="prefetch" href="/assets/js/43.8946d7e2.js"><link rel="prefetch" href="/assets/js/430.8b43f070.js"><link rel="prefetch" href="/assets/js/431.d85a79d6.js"><link rel="prefetch" href="/assets/js/432.7373e34b.js"><link rel="prefetch" href="/assets/js/433.4be17add.js"><link rel="prefetch" href="/assets/js/434.81670bcf.js"><link rel="prefetch" href="/assets/js/435.6aa95ea5.js"><link rel="prefetch" href="/assets/js/436.4223c356.js"><link rel="prefetch" href="/assets/js/437.13f276dc.js"><link rel="prefetch" href="/assets/js/438.7c6e503d.js"><link rel="prefetch" href="/assets/js/439.6f9afc22.js"><link rel="prefetch" href="/assets/js/44.2a678f4a.js"><link rel="prefetch" href="/assets/js/440.5c949914.js"><link rel="prefetch" href="/assets/js/441.7dc7c8e4.js"><link rel="prefetch" href="/assets/js/442.bfec8250.js"><link rel="prefetch" href="/assets/js/443.0b932152.js"><link rel="prefetch" href="/assets/js/444.ecc56127.js"><link rel="prefetch" href="/assets/js/445.3a1eefa1.js"><link rel="prefetch" href="/assets/js/446.07410371.js"><link rel="prefetch" href="/assets/js/447.920996c3.js"><link rel="prefetch" href="/assets/js/448.9b5b5588.js"><link rel="prefetch" href="/assets/js/449.40afb76e.js"><link rel="prefetch" href="/assets/js/45.a716cdab.js"><link rel="prefetch" href="/assets/js/450.15845e93.js"><link rel="prefetch" href="/assets/js/451.c0454122.js"><link rel="prefetch" href="/assets/js/452.076ca38b.js"><link rel="prefetch" href="/assets/js/453.35add2cd.js"><link rel="prefetch" href="/assets/js/454.fed25dd2.js"><link rel="prefetch" href="/assets/js/455.a3232b7e.js"><link rel="prefetch" href="/assets/js/456.803d9cea.js"><link rel="prefetch" href="/assets/js/457.0a884768.js"><link rel="prefetch" href="/assets/js/458.69b6cc02.js"><link rel="prefetch" href="/assets/js/459.d8e1df18.js"><link rel="prefetch" href="/assets/js/46.53b78a16.js"><link rel="prefetch" href="/assets/js/460.a4980d6e.js"><link rel="prefetch" href="/assets/js/461.68d3e1c1.js"><link rel="prefetch" href="/assets/js/462.7930ea12.js"><link rel="prefetch" href="/assets/js/463.48a62ed8.js"><link rel="prefetch" href="/assets/js/464.5c42fe51.js"><link rel="prefetch" href="/assets/js/465.b65a0e95.js"><link rel="prefetch" href="/assets/js/466.63474609.js"><link rel="prefetch" href="/assets/js/467.e6370736.js"><link rel="prefetch" href="/assets/js/468.a6cd9285.js"><link rel="prefetch" href="/assets/js/469.3df61389.js"><link rel="prefetch" href="/assets/js/47.dc9468b3.js"><link rel="prefetch" href="/assets/js/470.b956e72b.js"><link rel="prefetch" href="/assets/js/471.227fb33d.js"><link rel="prefetch" href="/assets/js/472.407485a3.js"><link rel="prefetch" href="/assets/js/473.9ab2c50d.js"><link rel="prefetch" href="/assets/js/474.dd36f932.js"><link rel="prefetch" href="/assets/js/475.7634085c.js"><link rel="prefetch" href="/assets/js/476.6869c979.js"><link rel="prefetch" href="/assets/js/477.b8bbd1aa.js"><link rel="prefetch" href="/assets/js/478.d85549c5.js"><link rel="prefetch" href="/assets/js/479.a549954b.js"><link rel="prefetch" href="/assets/js/48.f62c6508.js"><link rel="prefetch" href="/assets/js/480.964f2b40.js"><link rel="prefetch" href="/assets/js/481.68f5f905.js"><link rel="prefetch" href="/assets/js/482.32b674c2.js"><link rel="prefetch" href="/assets/js/483.6574c15d.js"><link rel="prefetch" href="/assets/js/484.63db4bff.js"><link rel="prefetch" href="/assets/js/485.0ecd7c6e.js"><link rel="prefetch" href="/assets/js/486.44a1de5d.js"><link rel="prefetch" href="/assets/js/487.fad12e99.js"><link rel="prefetch" href="/assets/js/488.169f32db.js"><link rel="prefetch" href="/assets/js/489.7ea816a6.js"><link rel="prefetch" href="/assets/js/49.f155d78a.js"><link rel="prefetch" href="/assets/js/490.d35de876.js"><link rel="prefetch" href="/assets/js/491.08874d90.js"><link rel="prefetch" href="/assets/js/492.088a7e6e.js"><link rel="prefetch" href="/assets/js/493.61d62bf4.js"><link rel="prefetch" href="/assets/js/494.b0515138.js"><link rel="prefetch" href="/assets/js/495.60587f26.js"><link rel="prefetch" href="/assets/js/496.d66df398.js"><link rel="prefetch" href="/assets/js/497.7c88f879.js"><link rel="prefetch" href="/assets/js/498.73e1e0cf.js"><link rel="prefetch" href="/assets/js/499.8162e0b6.js"><link rel="prefetch" href="/assets/js/5.7c68fdb5.js"><link rel="prefetch" href="/assets/js/50.d2b62498.js"><link rel="prefetch" href="/assets/js/500.8b0de440.js"><link rel="prefetch" href="/assets/js/501.0894844d.js"><link rel="prefetch" href="/assets/js/502.1c0d1c3c.js"><link rel="prefetch" href="/assets/js/503.3e3f2a4a.js"><link rel="prefetch" href="/assets/js/504.cca812a4.js"><link rel="prefetch" href="/assets/js/505.8a1f3adc.js"><link rel="prefetch" href="/assets/js/506.35d49763.js"><link rel="prefetch" href="/assets/js/507.4fd3c268.js"><link rel="prefetch" href="/assets/js/508.aa2ba78c.js"><link rel="prefetch" href="/assets/js/509.cc7d97eb.js"><link rel="prefetch" href="/assets/js/51.7b12b0f0.js"><link rel="prefetch" href="/assets/js/510.73e3254c.js"><link rel="prefetch" href="/assets/js/511.bd21926b.js"><link rel="prefetch" href="/assets/js/512.8b796161.js"><link rel="prefetch" href="/assets/js/513.da11e0bf.js"><link rel="prefetch" href="/assets/js/514.5a620685.js"><link rel="prefetch" href="/assets/js/515.9a4b1681.js"><link rel="prefetch" href="/assets/js/516.de55e3ca.js"><link rel="prefetch" href="/assets/js/517.2b3b1dd5.js"><link rel="prefetch" href="/assets/js/518.aa28e969.js"><link rel="prefetch" href="/assets/js/519.91a752a1.js"><link rel="prefetch" href="/assets/js/52.3391993d.js"><link rel="prefetch" href="/assets/js/520.49c84d3e.js"><link rel="prefetch" href="/assets/js/521.545008de.js"><link rel="prefetch" href="/assets/js/522.11773c74.js"><link rel="prefetch" href="/assets/js/523.5b523166.js"><link rel="prefetch" href="/assets/js/524.9d7c8f5c.js"><link rel="prefetch" href="/assets/js/53.a67a7068.js"><link rel="prefetch" href="/assets/js/54.af0dccf3.js"><link rel="prefetch" href="/assets/js/55.cdae5880.js"><link rel="prefetch" href="/assets/js/56.4d918bef.js"><link rel="prefetch" href="/assets/js/57.5e9dea12.js"><link rel="prefetch" href="/assets/js/58.6cec08ff.js"><link rel="prefetch" href="/assets/js/59.65771179.js"><link rel="prefetch" href="/assets/js/6.c8da7ca7.js"><link rel="prefetch" href="/assets/js/60.8f859a65.js"><link rel="prefetch" href="/assets/js/61.43bff54c.js"><link rel="prefetch" href="/assets/js/62.b8e9e509.js"><link rel="prefetch" href="/assets/js/63.5149a7b9.js"><link rel="prefetch" href="/assets/js/64.961c386a.js"><link rel="prefetch" href="/assets/js/65.73f66baf.js"><link rel="prefetch" href="/assets/js/66.b5930577.js"><link rel="prefetch" href="/assets/js/67.40a0db0c.js"><link rel="prefetch" href="/assets/js/68.6212d2a9.js"><link rel="prefetch" href="/assets/js/69.0cd6b5c4.js"><link rel="prefetch" href="/assets/js/7.e4c88d0e.js"><link rel="prefetch" href="/assets/js/70.8e1f3dad.js"><link rel="prefetch" href="/assets/js/71.041fa5d5.js"><link rel="prefetch" href="/assets/js/72.7b626c12.js"><link rel="prefetch" href="/assets/js/73.78b38a87.js"><link rel="prefetch" href="/assets/js/74.6ec158a9.js"><link rel="prefetch" href="/assets/js/75.de5261fd.js"><link rel="prefetch" href="/assets/js/76.49878016.js"><link rel="prefetch" href="/assets/js/77.77eb5ec0.js"><link rel="prefetch" href="/assets/js/78.13279776.js"><link rel="prefetch" href="/assets/js/79.55cd4da6.js"><link rel="prefetch" href="/assets/js/80.2d4e5531.js"><link rel="prefetch" href="/assets/js/81.f00c64f4.js"><link rel="prefetch" href="/assets/js/82.af834374.js"><link rel="prefetch" href="/assets/js/83.42d97060.js"><link rel="prefetch" href="/assets/js/84.e6bc84a7.js"><link rel="prefetch" href="/assets/js/85.beeccec9.js"><link rel="prefetch" href="/assets/js/86.af675949.js"><link rel="prefetch" href="/assets/js/87.42f1b392.js"><link rel="prefetch" href="/assets/js/88.b5b8b77f.js"><link rel="prefetch" href="/assets/js/89.5892cf98.js"><link rel="prefetch" href="/assets/js/90.975b2533.js"><link rel="prefetch" href="/assets/js/91.64ccb26a.js"><link rel="prefetch" href="/assets/js/92.159aca5a.js"><link rel="prefetch" href="/assets/js/93.ca72cfb7.js"><link rel="prefetch" href="/assets/js/94.134a585d.js"><link rel="prefetch" href="/assets/js/95.83f34609.js"><link rel="prefetch" href="/assets/js/96.25383af1.js"><link rel="prefetch" href="/assets/js/97.404579a5.js"><link rel="prefetch" href="/assets/js/98.b15c1a8c.js"><link rel="prefetch" href="/assets/js/99.2757d9cd.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5143d2e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b4a844ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端收集</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/react-source/" class="nav-link">
  源码解析
</a></div><div class="nav-item"><a href="/mdn/" class="nav-link">
  MDN
</a></div><div class="nav-item"><a href="/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/advanced/" class="nav-link">
  JS进阶
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/deploy/" class="nav-link router-link-active">
  工程化
</a></div><div class="nav-item"><a href="/qa/" class="nav-link">
  QA
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="链接" class="dropdown-title"><span class="title">链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="链接" class="mobile-dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://note.aduang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/chnduang/cv-collect-blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/react-source/" class="nav-link">
  源码解析
</a></div><div class="nav-item"><a href="/mdn/" class="nav-link">
  MDN
</a></div><div class="nav-item"><a href="/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/advanced/" class="nav-link">
  JS进阶
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/deploy/" class="nav-link router-link-active">
  工程化
</a></div><div class="nav-item"><a href="/qa/" class="nav-link">
  QA
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="链接" class="dropdown-title"><span class="title">链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="链接" class="mobile-dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://note.aduang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/chnduang/cv-collect-blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/deploy/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/1-npm" class="sidebar-heading clickable"><span>npm</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/1-webpack原理" class="sidebar-heading clickable"><span>webpack原理</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/2-webpack" class="sidebar-heading clickable router-link-active open"><span>webpack</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/deploy/2-webpack/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/deploy/2-webpack/Koa2中使用webpack进行打包压缩.html" class="sidebar-link">Koa2中使用webpack进行打包压缩</a></li><li><a href="/deploy/2-webpack/Webpack5之路优化篇.html" class="active sidebar-link">学习 Webpack5 之路（优化篇）- 近 7k 字</a></li><li><a href="/deploy/2-webpack/esbuild为什么这么快.html" class="sidebar-link">esbuild 为什么这么快?</a></li><li><a href="/deploy/2-webpack/module-issuer属性详解.html" class="sidebar-link">十分钟精进 Webpack：module.issuer 属性详解</a></li><li><a href="/deploy/2-webpack/webpack-node.html" class="sidebar-link">Node中使用webpack打包时出现的错误和警告</a></li><li><a href="/deploy/2-webpack/webpack构建之splitChunks优化与manifest.html" class="sidebar-link">webpack 构建之 splitChunks 优化与 manifest</a></li><li><a href="/deploy/2-webpack/不要再看loader原理了，自己写一个就什么都明白了.html" class="sidebar-link">不要再看loader原理了，自己写一个就什么都明白了</a></li><li><a href="/deploy/2-webpack/使用DllPlugin.html" class="sidebar-link">使用DllPlugin</a></li><li><a href="/deploy/2-webpack/使用HappyPack.html" class="sidebar-link">HappyPack</a></li><li><a href="/deploy/2-webpack/使用parallelUglifyPlugin.html" class="sidebar-link">ParallelUglifyPlugin</a></li><li><a href="/deploy/2-webpack/分享几个Webpack实用分析工具.html" class="sidebar-link">分享几个 Webpack 实用分析工具</a></li><li><a href="/deploy/2-webpack/压缩代码.html" class="sidebar-link">压缩代码</a></li><li><a href="/deploy/2-webpack/如何开发VSCode-LSP服务.html" class="sidebar-link">实例解析：如何开发 VSCode LSP 服务</a></li><li><a href="/deploy/2-webpack/如何调试Webpack问题.html" class="sidebar-link">我是如何调试 Webpack 问题的</a></li><li><a href="/deploy/2-webpack/手把手带你入门Webpack-Plugin.html" class="sidebar-link">手把手带你入门 Webpack Plugin</a></li><li><a href="/deploy/2-webpack/缩小文件搜索范围.html" class="sidebar-link">缩小文件搜索范围</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/3-babel" class="sidebar-heading clickable"><span>babel</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/4-gulp" class="sidebar-heading clickable"><span>gulp</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/4-vite" class="sidebar-heading clickable"><span>vite</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/5-micro-front" class="sidebar-heading clickable"><span>micro-front</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/6-cluster" class="sidebar-heading clickable"><span>cluster</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/6-deploy" class="sidebar-heading clickable"><span>deploy</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/6-docker" class="sidebar-heading clickable"><span>docker</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/deploy/8-linux" class="sidebar-heading clickable"><span>linux</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="学习-webpack5-之路-优化篇-近-7k-字"><a href="#学习-webpack5-之路-优化篇-近-7k-字" class="header-anchor">#</a> 学习 Webpack5 之路（优化篇）- 近 7k 字</h1> <blockquote><p><a href="https://mp.weixin.qq.com/s/uAMN-b6I47b_kZAUOw9hoA" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/uAMN-b6I47b_kZAUOw9hoA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h1 id="一、前言"><a href="#一、前言" class="header-anchor">#</a> 一、前言</h1> <p>从 0 到 1 学习的朋友可参考前置学习文章：</p> <ul><li>[<strong>学习 Webpack5 之路（基础篇）</strong><a href="http://mp.weixin.qq.com/s?__biz=MzUzNjk5MTE1OQ==&amp;mid=2247508982&amp;idx=2&amp;sn=98970a86b4d684d97601a244abf5687f&amp;chksm=faef272ecd98ae38f26487db36b13033337b0b3fb9db8e9c549e427715b4784cd282c28f65df&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">2]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>[<strong>学习 Webpack5 之路（实践篇）</strong><a href="http://mp.weixin.qq.com/s?__biz=MzUzNjk5MTE1OQ==&amp;mid=2247509040&amp;idx=1&amp;sn=4282ccc8f68612988912d01be1a0179b&amp;chksm=faef20e8cd98a9fecf69a4f087a0567097b69efba40306f0229a0a500c01440c948aacd00a93&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">3]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>前置文章 <strong>学习 Webpack5 之路（基础篇）</strong>[4] 对 webpack 的概念做了简单介绍，<strong>学习 Webpack5 之路（实践篇）</strong>[5] 则从配置着手，用 webpack 搭建了一个 SASS + TS + React 的项目。</p> <p>本篇将从优化开发体验、加快编译速度、减小打包体积、加快加载速度 4 个角度出发，介绍如何对 webpack 项目进行优化。</p> <p>本文依赖的 webpack 版本信息如下：</p> <ul><li><strong>webpack-cli@4.7.2</strong>[6]</li> <li><strong>webpack@5.46.0</strong>[7]</li></ul> <h1 id="二、优化效率工具"><a href="#二、优化效率工具" class="header-anchor">#</a> 二、优化效率工具</h1> <p>在优化开始之前，需要做一些准备工作。</p> <p>安装以下 webpack 插件，帮助我们分析优化效率：</p> <ul><li><strong>progress-bar-webpack-plugin</strong>[8]：查看编译进度；</li> <li><strong>speed-measure-webpack-plugin</strong>[9]：查看编译速度；</li> <li><strong>webpack-bundle-analyzer</strong>[10]：打包体积分析。</li></ul> <h2 id="_1-编译进度条"><a href="#_1-编译进度条" class="header-anchor">#</a> 1. 编译进度条</h2> <p>一般来说，中型项目的首次编译时间为 5-20s，没个进度条等得多着急，通过 <strong>progress-bar-webpack-plugin</strong>[11] 插件查看编译进度，方便我们掌握编译情况。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm i -D progress-bar-webpack-plugin
复制代码
</code></pre></div><p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const chalk = require('chalk')
const ProgressBarPlugin = require('progress-bar-webpack-plugin')
module.exports = {
  plugins: [
    // 进度条
    new ProgressBarPlugin({
        format: `  :msg [:bar] ${chalk.green.bold(':percent')} (:elapsed s)`
      })
  ],
}
复制代码
</code></pre></div><blockquote><p>贴心的为进度百分比添加了加粗和绿色高亮态样式。</p></blockquote> <p>包含内容、进度条、进度百分比、消耗时间，进度条效果如下：</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQRdC0ghOPvCCqicAuR7pK2folUUMptn8qD6sZGxuUx3pQBNumqKGLBGcbDF8ibJxrb2iab1cqJGA5bLg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image.png</p> <h2 id="_2-编译速度分析"><a href="#_2-编译速度分析" class="header-anchor">#</a> 2. 编译速度分析</h2> <p>优化 webpack 构建速度，首先需要知道是哪些插件、哪些 loader 耗时长，方便我们针对性的优化。</p> <p>通过 <strong>speed-measure-webpack-plugin</strong>[12] 插件进行构建速度分析，可以看到各个 loader、plugin 的构建时长，后续可针对耗时 loader、plugin 进行优化。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm i -D speed-measure-webpack-plugin
复制代码
</code></pre></div><p><code>webpack.dev.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const SpeedMeasurePlugin = require(&quot;speed-measure-webpack-plugin&quot;);
const smp = new SpeedMeasurePlugin();
module.exports = smp.wrap({
  // ...webpack config...
})
复制代码
</code></pre></div><p>包含各工具的构建耗时，效果如下：</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQRdC0ghOPvCCqicAuR7pK2foRw5P1a88Bw7wlzPd49jmFWOgLic4QDhJHZ6KibRJRPx26JDbciaH9FCRw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image.png</p> <blockquote><p>注意：这些灰色文字的样式，是因为我在 vscode 终端运行的，导致有颜色的字体都显示为灰色，换个终端就好了，如 <strong>iTerm2</strong>[13]。</p></blockquote> <h2 id="_3-打包体积分析"><a href="#_3-打包体积分析" class="header-anchor">#</a> 3. 打包体积分析</h2> <p>同样，优化打包体积，也需要先分析各个 bundle 文件的占比大小，来进行针对优化。</p> <p>使用 <strong>webpack-bundle-analyzer</strong>[14] 查看打包后生成的 bundle 体积分析，将 bundle 内容展示为一个便捷的、交互式、可缩放的树状图形式。帮助我们分析输出结果来检查模块在何处结束。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm i -D webpack-bundle-analyzer
复制代码
</code></pre></div><p><code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
module.exports = {
  plugins: [
    // 打包体积分析
    new BundleAnalyzerPlugin()
  ],
}
复制代码
</code></pre></div><p>包含各个 bundle 的体积分析，效果如下：</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQRdC0ghOPvCCqicAuR7pK2foq2cLxYS7siakh2pSWroqKepRbNueq7juCy5DkhEofoExI802g9QUWpg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image.png</p> <h1 id="三、优化开发体验"><a href="#三、优化开发体验" class="header-anchor">#</a> 三、优化开发体验</h1> <h2 id="_1-自动更新"><a href="#_1-自动更新" class="header-anchor">#</a> 1. 自动更新</h2> <p><strong>自动更新</strong>[15] 指的是，在开发过程中，修改代码后，无需手动再次编译，可以自动编译代码更新编译后代码的功能。</p> <p>webpack 提供了以下几种可选方式，实现自动更新功能：</p> <ol><li>webpack's <strong>Watch Mode</strong>[16]</li> <li><strong>webpack-dev-server</strong>[17]</li> <li><strong>webpack-dev-middleware</strong>[18]</li></ol> <p>webpack 官方推荐的方式是 <code>webpack-dev-server</code>，在 <strong>学习 Webpack5 之路（实践篇）</strong>[19] - <strong>DevServer 章节</strong>[20] 已经介绍了 <strong>webpack-dev-server</strong>[21] 帮助我们在代码发生变化后自动编译代码实现<strong>自动更新</strong>的用法，在这里不重复赘述。</p> <blockquote><p>这是针对开发环境的优化，修改 <code>webpack.dev.js</code> 配置。</p></blockquote> <h2 id="_2-热更新"><a href="#_2-热更新" class="header-anchor">#</a> 2. 热更新</h2> <p><strong>热更新</strong>[22] 指的是，在开发过程中，修改代码后，仅更新修改部分的内容，无需刷新整个页面。</p> <h3 id="_2-1-修改-webpack-dev-server-配置"><a href="#_2-1-修改-webpack-dev-server-配置" class="header-anchor">#</a> 2.1 修改 webpack-dev-server 配置</h3> <p>使用 webpack 内置的 HMR 插件，更新 webpack-dev-server 配置。</p> <p><code>webpack.dev.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.export = {
    devServer: {
        contentBase: './dist',
        hot: true, // 热更新
      },
}
复制代码
</code></pre></div><h3 id="_2-2-引入-react-refresh-webpack-plugin"><a href="#_2-2-引入-react-refresh-webpack-plugin" class="header-anchor">#</a> 2.2 引入 react-refresh-webpack-plugin</h3> <p>使用 <strong>react-refresh-webpack-plugin</strong>[23] 热更新 react 组件。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -D @pmmmwh/react-refresh-webpack-plugin react-refresh
复制代码
</code></pre></div><p><code>webpack.dev.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const ReactRefreshWebpackPlugin = require('@pmmmwh/react-refresh-webpack-plugin');

module.exports = {
    plugins: [
        new webpack.HotModuleReplacementPlugin(),
        new ReactRefreshWebpackPlugin(),
    ]
}
复制代码
</code></pre></div><p><strong>遇到的问题：</strong></p> <p>配置了 SpeedMeasurePlugin 后，热更新就无效了，会提示 <code>runtime is undefined</code>。</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <p><strong>解决方案：</strong></p> <p>仅在分析构建速度时打开 SpeedMeasurePlugin 插件，这里我们先关闭 SpeedMeasurePlugin 的使用，来查看热更新效果。</p> <p><strong>最终效果：</strong></p> <p>更新 react 组件代码时，无需刷新页面，仅更新组件部分。</p> <h1 id="四、加快构建速度"><a href="#四、加快构建速度" class="header-anchor">#</a> 四、加快构建速度</h1> <h2 id="_1-更新版本"><a href="#_1-更新版本" class="header-anchor">#</a> 1. 更新版本</h2> <h3 id="_1-1-webpack-版本"><a href="#_1-1-webpack-版本" class="header-anchor">#</a> 1.1 webpack 版本</h3> <p>使用最新的 webpack 版本，通过 webpack 自身的迭代优化，来加快构建速度。</p> <p>这一点是非常有效的，如 webpack5 较于 webpack4，新增了持久化缓存、改进缓存算法等优化，webpack5 新特性可查看 <strong>参考资料</strong>[24]。</p> <h3 id="_1-2-包管理工具版本"><a href="#_1-2-包管理工具版本" class="header-anchor">#</a> 1.2 包管理工具版本</h3> <p>将 <strong>Node.js</strong> 、package 管理工具（例如 <code>npm</code> 或者 <code>yarn</code>）更新到最新版本，也有助于提高性能。较新的版本能够建立更高效的模块树以及提高解析速度。</p> <p>本文依赖的版本信息如下：</p> <ul><li><code>webpack@5.46.0</code></li> <li><code>node@14.15.0</code></li> <li><code>npm@6.14.8</code></li></ul> <h2 id="_2-缓存"><a href="#_2-缓存" class="header-anchor">#</a> 2. 缓存</h2> <h3 id="_2-1-cache"><a href="#_2-1-cache" class="header-anchor">#</a> 2.1 cache</h3> <p>通过配置 <strong>webpack 持久化缓存</strong>[25] <code>cache: filesystem</code>，来缓存生成的 webpack 模块和 chunk，改善构建速度。</p> <p>简单来说，通过 <code>cache: filesystem</code> 可以将构建过程的 webpack 模板进行缓存，大幅提升二次构建速度、打包速度，当构建突然中断，二次进行构建时，可以直接从缓存中拉取，可提速 <strong>90%</strong> 左右。</p> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    cache: {
      type: 'filesystem', // 使用文件缓存
    },
}
复制代码
</code></pre></div><p>引入缓存后，首次构建时间将增加 15%，二次构建时间将减少 90%，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h3 id="_2-2-dll-❌"><a href="#_2-2-dll-❌" class="header-anchor">#</a> 2.2 dll ❌</h3> <p>在 <strong>webpack 官网构建性能</strong>[26] 中看到关于 dll 的介绍：</p> <blockquote><p>dll 可以为更改不频繁的代码生成单独的编译结果。可以提高应用程序的编译速度。</p></blockquote> <p>我兴冲冲的开始寻找 dll 的相关配置说明，太复杂了，接着找到了一个辅助配置 dll 的插件 <strong>autodll-webpack-plugin</strong>[27]，结果上面直接写了 webpack5 开箱即用的持久缓存是比 dll 更优的解决方案。</p> <p>所以，不用再配置 dll了，上面介绍的 cache 明显更香。</p> <h3 id="_2-3-cache-loader-❌"><a href="#_2-3-cache-loader-❌" class="header-anchor">#</a> 2.3 cache-loader ❌</h3> <p>没错，<strong>cache-loader</strong>[28] 也不需要引入了，上面的 cache 已经帮助我们缓存了。</p> <h2 id="_3-减少-loader、plugins"><a href="#_3-减少-loader、plugins" class="header-anchor">#</a> 3. 减少 loader、plugins</h2> <p>每个的 loader、plugin 都有其启动时间。尽量少地使用工具，将非必须的 loader、plugins 删除。</p> <h3 id="_3-1-指定-include"><a href="#_3-1-指定-include" class="header-anchor">#</a> 3.1 指定 include</h3> <p>为 loader 指定 include，减少 loader 应用范围，仅应用于最少数量的必要模块，。</p> <blockquote><p><strong>webpack 构建性能文档</strong>[29]</p></blockquote> <blockquote><p>rule.exclude 可以排除模块范围，也可用于减少 loader 应用范围.</p></blockquote> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    rules: [
        {
            test: /\.(js|ts|jsx|tsx)$/,
            include: paths.appSrc,
            use: [
              {
                loader: 'esbuild-loader',
                options: {
                  loader: 'tsx',
                  target: 'es2015',
                },
              }
            ]
         }
    ]
}
复制代码
</code></pre></div><p>定义 loader 的 include 后，构建时间将减少 12%，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h3 id="_3-2-管理资源"><a href="#_3-2-管理资源" class="header-anchor">#</a> 3.2 管理资源</h3> <p>使用 <strong>webpack 资源模块</strong>[30] (asset module) 代替旧的 assets loader（如 <code>file-loader</code>/<code>url-loader</code>/<code>raw-loader</code> 等），减少 loader 配置数量。</p> <p>配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    rules: [
       {
        test: /\.(png|svg|jpg|jpeg|gif)$/i,
        include: [
          paths.appSrc,
        ],
        type: 'asset/resource',
      },
    ]
}
复制代码
</code></pre></div><p>引入资源模块后，构建时间将减少 7%，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h2 id="_4-优化-resolve-配置"><a href="#_4-优化-resolve-配置" class="header-anchor">#</a> 4. 优化 resolve 配置</h2> <p><strong>resolve</strong>[31] 用来配置 webpack 如何解析模块，可通过优化 resolve 配置来覆盖默认配置项，减少解析范围。</p> <h3 id="_4-1-alias"><a href="#_4-1-alias" class="header-anchor">#</a> 4.1 alias</h3> <p>alias 可以创建 <code>import</code> 或 <code>require</code> 的别名，用来简化模块引入。</p> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    resolve: {
        alias: {
          '@': paths.appSrc, // @ 代表 src 路径
        },
    }
}
复制代码
</code></pre></div><h3 id="_4-2-extensions"><a href="#_4-2-extensions" class="header-anchor">#</a> 4.2 extensions</h3> <p>extensions 表示需要解析的文件类型列表。</p> <p>根据项目中的文件类型，定义 extensions，以覆盖 webpack 默认的 extensions，加快解析速度。</p> <p>由于 webpack 的解析顺序是从左到右，因此要将使用频率高的文件类型放在左侧，如下我将 <code>tsx</code> 放在最左侧。</p> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    resolve: {
        extensions: ['.tsx', '.js'], // 因为我的项目只有这两种类型的文件，如果有其他类型，需要添加进去。
    }
}
复制代码
</code></pre></div><h3 id="_4-3-modules"><a href="#_4-3-modules" class="header-anchor">#</a> 4.3 modules</h3> <p>modules 表示 webpack 解析模块时需要解析的目录。</p> <p>指定目录可缩小 webpack 解析范围，加快构建速度。</p> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    modules: [
      'node_modules',
       paths.appSrc,
    ]
}
复制代码
</code></pre></div><h3 id="_4-4-symlinks"><a href="#_4-4-symlinks" class="header-anchor">#</a> 4.4 symlinks</h3> <p>如果项目不使用 symlinks（例如 <code>npm link</code> 或者 <code>yarn link</code>），可以设置 <code>resolve.symlinks: false</code>，减少解析工作量。</p> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    resolve: {
        symlinks: false,
    },
}
复制代码
</code></pre></div><p>优化 resolve 配置后，构建时间将减少 1.5%，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h2 id="_5-多进程"><a href="#_5-多进程" class="header-anchor">#</a> 5. 多进程</h2> <p>上述可以看到 sass-loader 的构建时间有 1.56s，占据了整个构建过程的 60%，那么有没有方法来加快 sass-loader 的构建速度呢？</p> <p>可以通过多进程来实现，试想将 sass-loader 放在一个独立的 worker 池中运行，就不会阻碍其他 loader 的构建了，可以大大加快构建速度。</p> <h3 id="_5-1-thread-loader"><a href="#_5-1-thread-loader" class="header-anchor">#</a> 5.1 thread-loader</h3> <p>通过 <strong>thread-loader</strong>[32] 将耗时的 loader 放在一个独立的 worker 池中运行，加快 loader 构建速度。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm i -D thread-loader
复制代码
</code></pre></div><p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    rules: [
        {
        test: /\.module\.(scss|sass)$/,
        include: paths.appSrc,
        use: [
          'style-loader',
          {
            loader: 'css-loader',
            options: {
              modules: true,
              importLoaders: 2,
            },
          },
          {
            loader: 'postcss-loader',
            options: {
              postcssOptions: {
                plugins: [
                  [
                    'postcss-preset-env',
                  ],
                ],
              },
            },
          },
          {
            loader: 'thread-loader',
            options: {
              workerParallelJobs: 2
            }
          },
          'sass-loader',
        ].filter(Boolean),
      },
    ]
}
复制代码
</code></pre></div><blockquote><p><strong>webpack 官网</strong>[33] 提到 <code>node-sass</code> 中有个来自 Node.js 线程池的阻塞线程的 bug。当使用 <code>thread-loader</code> 时，需要设置 <code>workerParallelJobs: 2</code>。</p></blockquote> <p>由于 thread-loader 引入后，需要 0.6s 左右的时间开启新的 node 进程，本项目代码量小，可见引入 thread-loader 后，构建时间反而增加了0.19s。</p> <p>因此，我们应该仅在非常耗时的 loader 前引入 thread-loader。</p> <p>效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h3 id="_5-2-happypack-❌"><a href="#_5-2-happypack-❌" class="header-anchor">#</a> 5.2 happypack ❌</h3> <p><strong>happypack</strong>[34] 同样是用来设置多线程，但是在 webpack5 就不要再使用 <strong>happypack</strong>[35] 了，官方也已经不再维护了，推荐使用上文介绍的 thread-loader。</p> <h2 id="_6-区分环境"><a href="#_6-区分环境" class="header-anchor">#</a> 6. 区分环境</h2> <p>在 <strong>学习 Webpack5 之路（实践篇）</strong>[36] - <strong>模式（mode） 章节</strong>[37] 已经介绍了 webpack 的不同模式的内置优化。</p> <p>在开发过程中，切忌在开发环境使用生产环境才会用到的工具，如在开发环境下，应该排除 <code>[fullhash]</code>/<code>[chunkhash]</code>/<code>[contenthash]</code> 等工具。</p> <p>同样，在生产环境，也应该避免使用开发环境才会用到的工具，如 webpack-dev-server 等插件。</p> <h2 id="_7-其他"><a href="#_7-其他" class="header-anchor">#</a> 7. 其他</h2> <h3 id="_7-1-devtool"><a href="#_7-1-devtool" class="header-anchor">#</a> 7.1 devtool</h3> <p>不同的 <code>devtool</code> 设置，会导致性能差异。</p> <p>在大多数情况下，最佳选择是 <code>eval-cheap-module-source-map</code>。</p> <p>详细区分可至 <strong>webpack devtool</strong>[38] 查看。</p> <p><code>webpack.dev.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>export.module = {
    devtool: 'eval-cheap-module-source-map',
}
复制代码
</code></pre></div><h3 id="_7-2-输出结果不携带路径信息"><a href="#_7-2-输出结果不携带路径信息" class="header-anchor">#</a> 7.2 输出结果不携带路径信息</h3> <p>默认 webpack 会在输出的 bundle 中生成路径信息，将路径信息删除可小幅提升构建速度。</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    output: {
        pathinfo: false,
      },
    };
}
复制代码
</code></pre></div><h1 id="四、减小打包体积"><a href="#四、减小打包体积" class="header-anchor">#</a> 四、减小打包体积</h1> <h2 id="_1-代码压缩"><a href="#_1-代码压缩" class="header-anchor">#</a> 1. 代码压缩</h2> <p>体积优化第一步是压缩代码，通过 webpack 插件，将 JS、CSS 等文件进行压缩。</p> <h3 id="_1-1-js-压缩"><a href="#_1-1-js-压缩" class="header-anchor">#</a> 1.1 JS 压缩</h3> <p>使用 <strong>TerserWebpackPlugin</strong>[39] 来压缩 JavaScript。</p> <p>webpack5 自带最新的 <code>terser-webpack-plugin</code>，无需手动安装。</p> <p><code>terser-webpack-plugin</code> 默认开启了 <code>parallel: true</code> 配置，并发运行的默认数量：<code>os.cpus().length \- 1</code> ，本文配置的 parallel 数量为 4，使用多进程并发运行压缩以提高构建速度。</p> <p><code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const TerserPlugin = require('terser-webpack-plugin');
module.exports = {
    optimization: {
        minimizer: [
            new TerserPlugin({
              parallel: 4,
              terserOptions: {
                parse: {
                  ecma: 8,
                },
                compress: {
                  ecma: 5,
                  warnings: false,
                  comparisons: false,
                  inline: 2,
                },
                mangle: {
                  safari10: true,
                },
                output: {
                  ecma: 5,
                  comments: false,
                  ascii_only: true,
                },
              },
            }),
        ]
    }
}
复制代码
</code></pre></div><p>体积减小 10%，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h4 id="_1-1-paralleluglifyplugin-❌"><a href="#_1-1-paralleluglifyplugin-❌" class="header-anchor">#</a> 1.1 ParallelUglifyPlugin ❌</h4> <p>你可能有听过 ParallelUglifyPlugin 插件，它可以帮助我们多进程压缩 JS，webpack5 的 TerserWebpackPlugin 默认就开启了多进程和缓存，无需再引入 ParallelUglifyPlugin。</p> <h3 id="_1-2-css-压缩"><a href="#_1-2-css-压缩" class="header-anchor">#</a> 1.2 CSS 压缩</h3> <p>使用 <strong>CssMinimizerWebpackPlugin</strong>[40] 压缩 CSS 文件。</p> <blockquote><p>和 <strong>optimize-css-assets-webpack-plugin</strong>[41] 相比，<strong>css-minimizer-webpack-plugin</strong>[42] 在 source maps 和 assets 中使用查询字符串会更加准确，而且支持缓存和并发模式下运行。</p></blockquote> <p><code>CssMinimizerWebpackPlugin</code> 将在 Webpack 构建期间搜索 CSS 文件，优化、压缩 CSS。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -D css-minimizer-webpack-plugin
复制代码
</code></pre></div><p><code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);

module.exports = {
  optimization: {
    minimizer: [
      new CssMinimizerPlugin({
          parallel: 4,
        }),
    ],
  }
}
复制代码
</code></pre></div><p>由于 CSS 默认是放在 JS 文件中，因此本示例是基于下章节将 CSS 代码分离后的效果。</p> <h2 id="_2-代码分离"><a href="#_2-代码分离" class="header-anchor">#</a> 2. 代码分离</h2> <p>代码分离能够把代码分离到不同的 bundle 中，然后可以按需加载或并行加载这些文件。代码分离可以用于获取更小的 bundle，以及控制资源加载优先级，可以缩短页面加载时间。</p> <h3 id="_2-1-抽离重复代码"><a href="#_2-1-抽离重复代码" class="header-anchor">#</a> 2.1 抽离重复代码</h3> <p><strong>SplitChunksPlugin</strong>[43] 插件开箱即用，可以将公共的依赖模块提取到已有的入口 chunk 中，或者提取到一个新生成的 chunk。</p> <p>webpack 将根据以下条件自动拆分 chunks：</p> <ul><li>新的 chunk 可以被共享，或者模块来自于 <code>node_modules</code> 文件夹；</li> <li>新的 chunk 体积大于 20kb（在进行 min+gz 之前的体积）；</li> <li>当按需加载 chunks 时，并行请求的最大数量小于或等于 30；</li> <li>当加载初始化页面时，并发请求的最大数量小于或等于 30；</li></ul> <p>通过 splitChunks 把 react 等公共库抽离出来，不重复引入占用体积。</p> <blockquote><p>注意：切记不要为 cacheGroups 定义固定的 name，因为 cacheGroups.name 指定字符串或始终返回相同字符串的函数时，会将所有常见模块和 vendor 合并为一个 chunk。这会导致更大的初始下载量并减慢页面加载速度。</p></blockquote> <p><code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    splitChunks: {
      // include all types of chunks
      chunks: 'all',
      // 重复打包问题
      cacheGroups:{
        vendors:{ // node_modules里的代码
          test: /[\\/]node_modules[\\/]/,
          chunks: &quot;all&quot;,
          // name: 'vendors', 一定不要定义固定的name
          priority: 10, // 优先级
          enforce: true 
        }
      }
    },
}
复制代码
</code></pre></div><p>将公共的模块单独打包，不再重复引入，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h3 id="_2-2-css-文件分离"><a href="#_2-2-css-文件分离" class="header-anchor">#</a> 2.2 CSS 文件分离</h3> <p><strong>MiniCssExtractPlugin</strong>[44] 插件将 CSS 提取到单独的文件中，为每个包含 CSS 的 JS 文件创建一个 CSS 文件，并且支持 CSS 和 SourceMaps 的按需加载。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -D mini-css-extract-plugin
复制代码
</code></pre></div><p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);

module.exports = {
  plugins: [new MiniCssExtractPlugin()],
  module: {
    rules: [
        {
        test: /\.module\.(scss|sass)$/,
        include: paths.appSrc,
        use: [
          'style-loader',
          isEnvProduction &amp;&amp; MiniCssExtractPlugin.loader, // 仅生产环境
          {
            loader: 'css-loader',
            options: {
              modules: true,
              importLoaders: 2,
            },
          },
          {
            loader: 'postcss-loader',
            options: {
              postcssOptions: {
                plugins: [
                  [
                    'postcss-preset-env',
                  ],
                ],
              },
            },
          },
          {
            loader: 'thread-loader',
            options: {
              workerParallelJobs: 2
            }
          },
          'sass-loader',
        ].filter(Boolean),
      },
    ]
  },
};
复制代码
</code></pre></div><blockquote><p>注意：MiniCssExtractPlugin.loader 要放在 style-loader 后面。</p></blockquote> <p>效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h3 id="_2-3-最小化-entry-chunk"><a href="#_2-3-最小化-entry-chunk" class="header-anchor">#</a> 2.3 最小化 entry chunk</h3> <p>通过配置 <code>optimization.runtimeChunk = true</code>，为运行时代码创建一个额外的 chunk，减少 entry chunk 体积，提高性能。</p> <p><code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
    optimization: {
        runtimeChunk: true,
      },
    };
}
复制代码
</code></pre></div><p>效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h2 id="_3-tree-shaking-摇树"><a href="#_3-tree-shaking-摇树" class="header-anchor">#</a> 3. Tree Shaking（摇树）</h2> <p>摇树，顾名思义，就是将枯黄的落叶摇下来，只留下树上活的叶子。枯黄的落叶代表项目中未引用的无用代码，活的树叶代表项目中实际用到的源码。</p> <h3 id="_3-1-js"><a href="#_3-1-js" class="header-anchor">#</a> 3.1 JS</h3> <p><strong>JS Tree Shaking</strong>[45] 将 JavaScript 上下文中的未引用代码（Dead Code）移除，通过 <code>package.json</code> 的 <code>&quot;sideEffects&quot;</code> 属性作为标记，向 compiler 提供提示，表明项目中的哪些文件是 &quot;pure(纯正 ES2015 模块)&quot;，由此可以安全地删除文件中未使用的部分。</p> <p>Dead Code 一般具有以下几个特征：</p> <ul><li>代码不会被执行，不可到达；</li> <li>代码执行的结果不会被用到；</li> <li>代码只会影响死变量（只写不读）。</li></ul> <h4 id="_3-1-1-webpack5-sideeffects"><a href="#_3-1-1-webpack5-sideeffects" class="header-anchor">#</a> 3.1.1 webpack5 sideEffects</h4> <p>通过 package.json 的 <code>&quot;sideEffects&quot;</code> 属性，来实现这种方式。</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;name&quot;: &quot;your-project&quot;,
  &quot;sideEffects&quot;: false
}
复制代码
</code></pre></div><p>需注意的是，当代码有副作用时，需要将 <code>sideEffects</code> 改为提供一个数组，添加有副作用代码的文件路径：</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;name&quot;: &quot;your-project&quot;,
  &quot;sideEffects&quot;: [&quot;./src/some-side-effectful-file.js&quot;]
}
复制代码
</code></pre></div><p>添加 TreeShaking 后，未引用的代码，将不会被打包，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h4 id="_3-1-2-对组件库引用的优化"><a href="#_3-1-2-对组件库引用的优化" class="header-anchor">#</a> 3.1.2 对组件库引用的优化</h4> <p>webpack5 sideEffects 只能清除无副作用的引用，而有副作用的引用则只能通过优化引用方式来进行 <code>Tree Shaking</code>。</p> <p><strong>1. lodash</strong></p> <p>类似 <code>import { throttle } from 'lodash'</code> 就属于有副作用的引用，会将整个 lodash 文件进行打包。</p> <p>优化方式是使用 <code>import { throttle } from 'lodash-es'</code> 代替 <code>import { throttle } from 'lodash'</code>，<strong>lodash-es</strong>[46] 将 <strong>Lodash</strong>[47] 库导出为 <strong>ES</strong>[48] 模块，支持基于 ES modules 的 tree shaking，实现按需引入。</p> <p><strong>2. ant-design</strong></p> <p><strong>ant-design</strong>[49] 默认支持基于 ES modules 的 tree shaking，对于 js 部分，直接引入 <code>import { Button } from 'antd'</code> 就会有按需加载的效果。</p> <p>假如项目中仅引入少部分组件，<code>import { Button } from 'antd'</code> 也属于有副作用，webpack不能把其他组件进行tree-shaking。这时可以<strong>缩小引用范围</strong>，将引入方式修改为 <code>import { Button } from 'antd/lib/button'</code> 来进一步优化。</p> <h3 id="_3-2-css"><a href="#_3-2-css" class="header-anchor">#</a> 3.2 CSS</h3> <p>上述对 JS 代码做了 Tree Shaking 操作，同样，CSS 代码也需要摇摇树，打包时把没有用的 CSS 代码摇走，可以大幅减少打包后的 CSS 文件大小。</p> <p>使用 <strong>purgecss-webpack-plugin</strong>[50] 对 CSS Tree Shaking。</p> <p>安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm i purgecss-webpack-plugin -D
复制代码
</code></pre></div><p>因为打包时 CSS 默认放在 JS 文件内，因此要结合 webpack 分离 CSS 文件插件 <code>mini-css-extract-plugin</code> 一起使用，先将 CSS 文件分离，再进行 CSS Tree Shaking。</p> <p><code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>const glob = require('glob')
const MiniCssExtractPlugin = require('mini-css-extract-plugin')
const PurgeCSSPlugin = require('purgecss-webpack-plugin')
const paths = require('paths')

module.exports = {
  plugins: [
    // 打包体积分析
    new BundleAnalyzerPlugin(),
    // 提取 CSS
    new MiniCssExtractPlugin({
      filename: &quot;[name].css&quot;,
    }),
    // CSS Tree Shaking
    new PurgeCSSPlugin({
      paths: glob.sync(`${paths.appSrc}/**/*`,  { nodir: true }),
    }),
  ]
}
复制代码
</code></pre></div><p>上面为了测试 CSS 压缩效果，我引入了大量无效 CSS 代码，因此 Tree Shaking 效果也非常明显，效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h2 id="_3-cdn"><a href="#_3-cdn" class="header-anchor">#</a> 3. CDN</h2> <p>上述是对 webpack 配置的优化，另一方面还可以通过 CDN 来减小打包体积。</p> <blockquote><p>这里引入 CDN 的首要目的为了减少打包体积，因此仅仅将一部分大的静态资源手动上传至 CDN，并修改本地引入路径。下文的加快加载速度，将介绍另一种 CDN 优化手段。</p></blockquote> <p>将大的静态资源上传至 CDN：</p> <ul><li>字体：压缩并上传至 CDN；</li> <li>图片：压缩并上传至 CDN。</li></ul> <h1 id="五、加快加载速度"><a href="#五、加快加载速度" class="header-anchor">#</a> 五、加快加载速度</h1> <h2 id="_1-按需加载"><a href="#_1-按需加载" class="header-anchor">#</a> 1. 按需加载</h2> <p>通过 webpack 提供的 <strong>import() 语法</strong>[51] <strong>动态导入</strong>[52] 功能进行代码分离，通过按需加载，大大提升网页加载速度。</p> <p>使用方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>export default function App () {
    return (
        &lt;div&gt;
            hello react 111
            &lt;Hello /&gt;
            &lt;button onClick={() =&gt; import('lodash')}&gt;加载lodash&lt;/button&gt;
        &lt;/div&gt;
    )
}
复制代码
</code></pre></div><p>效果如下：</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">Untitled.gif</p> <h2 id="_2-浏览器缓存-53"><a href="#_2-浏览器缓存-53" class="header-anchor">#</a> 2. 浏览器缓存[53]</h2> <p>浏览器缓存，就是进入某个网站后，加载的静态资源被浏览器缓存，再次进入该网站后，将直接拉取缓存资源，加快加载速度。</p> <p>webpack 支持根据资源内容，创建 hash id，当资源内容发生变化时，将会创建新的 hash id。</p> <p>配置 JS bundle hash，<code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
  // 输出
  output: {
    // 仅在生产环境添加 hash
    filename: ctx.isEnvProduction ? '[name].[contenthash].bundle.js' : '[name].bundle.js',
  },
}
复制代码
</code></pre></div><p>配置 CSS bundle hash，<code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
  plugins: [
    // 提取 CSS
    new MiniCssExtractPlugin({
      filename: &quot;[hash].[name].css&quot;,
    }),
  ],
}
复制代码
</code></pre></div><p>配置 optimization.moduleIds，让公共包 splitChunks 的 hash 不因为新的依赖而改变，减少非必要的 hash 变动，<code>webpack.prod.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
  optimization: {
    moduleIds: 'deterministic',
  }
}
复制代码
</code></pre></div><p>通过配置 contenthash/hash，浏览器缓存了未改动的文件，仅重新加载有改动的文件，大大加快加载速度。</p> <h2 id="_3-cdn-2"><a href="#_3-cdn-2" class="header-anchor">#</a> 3. CDN</h2> <p>将所有的静态资源，上传至 CDN，通过 CDN 加速来提升加载速度。</p> <p><code>webpack.common.js</code> 配置方式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>export.modules = {
output: {
    publicPath: ctx.isEnvProduction ? 'https://xxx.com' : '', // CDN 域名
  },
}
复制代码
</code></pre></div><h1 id="六、优化前后对比"><a href="#六、优化前后对比" class="header-anchor">#</a> 六、优化前后对比</h1> <p>在仓库代码仅 webpack 配置不同的情况下，查看优化前后对比。</p> <ul><li>优化前 github 地址</li> <li>优化后 github 地址</li></ul> <h2 id="_1-构建速度"><a href="#_1-构建速度" class="header-anchor">#</a> 1. 构建速度</h2> <table><thead><tr><th style="text-align:center;">类型</th> <th style="text-align:center;">首次构建</th> <th style="text-align:center;">未修改内容二次构建</th> <th style="text-align:center;">修改内容二次构建</th></tr></thead> <tbody><tr><td style="text-align:center;">优化前</td> <td style="text-align:center;">2.7s</td> <td style="text-align:center;">2.7s</td> <td style="text-align:center;">2.7s</td></tr> <tr><td style="text-align:center;">优化后</td> <td style="text-align:center;">2.7s</td> <td style="text-align:center;">0.5s</td> <td style="text-align:center;">0.3s</td></tr></tbody></table> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h2 id="_2-打包体积"><a href="#_2-打包体积" class="header-anchor">#</a> 2. 打包体积</h2> <table><thead><tr><th style="text-align:center;">类型</th> <th style="text-align:center;">体积大小</th></tr></thead> <tbody><tr><td style="text-align:center;">优化前</td> <td style="text-align:center;">250 kb</td></tr> <tr><td style="text-align:center;">优化后</td> <td style="text-align:center;">231 kb</td></tr></tbody></table> <p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image.png</p> <h1 id="七、总结"><a href="#七、总结" class="header-anchor">#</a> 七、总结</h1> <p>从上章节 <strong>[优化前后对比]</strong> 可知，在小型项目中，添加过多的优化配置，作用不大，反而会因为额外的 loader、plugin 增加构建时间。</p> <p>在加快构建时间方面，作用最大的是配置 cache，可大大加快二次构建速度。</p> <p>在减小打包体积方面，作用最大的是压缩代码、分离重复代码、Tree Shaking，可最大幅度减小打包体积。</p> <p>在加快加载速度方面，按需加载、浏览器缓存、CDN 效果都很显著。</p> <p>本篇就介绍到这儿啦，有更好的 webpack 优化方式欢迎评论区告诉我哦~</p> <p>本文源码：</p> <ul><li><strong>webpack Demo2 优化前</strong>[54]</li> <li><strong>webpack Demo2 优化后</strong>[55]</li></ul> <p>希望能对你有所帮助，感谢阅读～</p> <p>别忘了点个赞鼓励一下我哦，笔芯❤️</p> <p>关于本文</p> <h1 id="来源-清汤饺子"><a href="#来源-清汤饺子" class="header-anchor">#</a> 来源：清汤饺子</h1> <p>https://juejin.cn/post/6996816316875161637</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/8/2024, 10:19:43 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/deploy/2-webpack/Koa2中使用webpack进行打包压缩.html" class="prev">
        Koa2中使用webpack进行打包压缩
      </a></span> <span class="next"><a href="/deploy/2-webpack/esbuild为什么这么快.html">
        esbuild 为什么这么快?
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.ae400df5.js" defer></script><script src="/assets/js/2.57da4f88.js" defer></script><script src="/assets/js/1.a76cc220.js" defer></script><script src="/assets/js/126.e8ec0fe7.js" defer></script>
  </body>
</html>
